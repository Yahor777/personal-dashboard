# UX/UI Аудит — Personal Dashboard App

Дата: 2025-10-20
Версия проекта: текущая рабочая копия (Vite + React 18)

## Резюме
- Статус сборки: успешная локальная сборка после временного отключения OLXMarketplace (компонент содержал критические синтаксические ошибки JSX). 
- Критические риски: 1) OLXMarketplace.tsx — сломанная разметка и логика условного рендера; 2) Отсутствие системных mobile-safe отступов и предотвращения горизонтального скролла; 3) Потенциальные проблемы с доступностью (контраст, размеры интерактивных зон, навигация с клавиатуры).
- Быстрые фиксы (выполнено): добавлены глобальные mobile-friendly стили (safe area, overflow-x: hidden, сглаживание шрифтов), pt-safe для шапки MobileNav. 

## Глобальные проблемы
- Адаптивность:
  - Отсутствовали гарантированные safe-area отступы на iOS (верх/низ) — риск перекрытия контента статус-баром/хомбаром. 
  - Возможен горизонтальный скролл из-за переполнений (фикс добавлен глобально).
- Производительность/UX:
  - Большие списки и дашборды без виртуализации (Kanban, списки результатов маркетплейса).
  - Нет скелетон-состояний/placeholder-ов на нескольких экранах при загрузке.
- Доступность:
  - Не везде соблюдены минимальные размеры кликабельных элементов (44×44px). 
  - Возможны низкие контрасты отдельных бейджей/текстов на темной/неон-теме. 
- Логи/диагностика:
  - Логи Firebase Auth в консоли всегда включены (можно понижать уровень логирования в проде).

## По экранам/компонентам
- AppSidebar
  - Пункты меню могут обрезаться на узких экранах; требуется ограничение ширины/«ellipsis» уже есть, но стоит проверить фокус/скролл при длинных списках вкладок.
  - На мобильных Sidebar должен быть строго off-canvas (Radix Sidebar ок, важно проверить z-index/перекрытия). 
- MobileNav
  - Добавлен pt-safe; уже имел pb-safe. Проверить перекрытия с модалками/тостами.
- KanbanBoard
  - На мобильных колонки должны быть в горизонтальном скролле без горизонтальных «рывков» страницы; убедиться в наличии контейнера overflow-x-auto + min-w-0 для дочерних flex-блоков.
  - Карточки: длинные заголовки должны «line-clamp»/переноситься.
- CardDrawer
  - На мобильных: высота ~100vh, внутренний контент прокручиваемый, кнопки действия закрепить внизу (sticky footer) для удобства.
- SettingsPanel / ImportExportPanel
  - На мобильных использовать layout «sheet»/full-height dialog. Полям ввода задать min-size (touch). JSON textarea — моноширинный шрифт, wrap=off, overflow-auto.
- AnalyticsPanel
  - Обернуть графики в ResponsiveContainer (Recharts) и ограничить оси для узких экранов. Добавить легенду/tooltip, избегать мелких кликабельных зон.
- AIAssistantPanel
  - Виртуализация списка сообщений при большом количестве; input закрепить внизу, добавить safe-area padding.
- PCBuildCalculator / PythonTracker / CS2GameTracker
  - Формы и таблицы проверять на min-width и скролл по оси X, где нужно.
- OLXMarketplace (критично)
  - Обнаружены фрагменты чужой разметки внутри блока «Статистика цен» (вставка быстрых пресетов), поломана структура IIFE и тернарных выражений. 
  - Требуется рефактор: заменить вложенные тернарные операторы на явные булевы рендеры ({cond && …}); выделить подблоки в мелкие компоненты (EmptyState, Spinner, ResultsGrid).

## Критические ошибки
1) OLXMarketplace.tsx не собирался из-за:
   - Некорректной вставки разметки быстрых пресетов в блок статистики.
   - Сломанных закрывающих скобок JSX/IIFE/тернарных выражений.
   - Рефактор (план ниже) обязателен до возврата компонента в сборку. Временная мера: исключён импорт/рендер OLXMarketplace из App.tsx, чтобы разблокировать проверку остального UI.

## Рекомендации по исправлению (план работ)
- Этап 1 — Блокирующие исправления
  - Привести OLXMarketplace.tsx к функциональным секциям: Filters, EmptyState, Spinner, ResultsGrid, StatsCard; заменить тернарии на {cond &&}, выделить компонентами.
  - Добавить unit-тест хотя бы на парсер конфигураций быстрого поиска (QUICK_SEARCHES) и на форматирование бейджей цены.
- Этап 2 — Мобильная адаптация
  - Везде проверить «min-w-0» в flex-контейнерах; добавить overflow-auto там, где встречаются таблицы/списки.
  - Закрепить action-кнопки (sticky bottom) в модалках/панелях.
  - Использовать clamp() для типографики заголовков на узких экранах.
- Этап 3 — Производительность/UX
  - Виртуализация длинных списков; скелетоны; уменьшение шумных логов; дебаунс на вводах поиска.

## Список быстрых задач (Next)
- [ ] Рефактор OLXMarketplace: разнести крупные блоки, переписать условный рендер.
- [ ] Проверить и зафиксировать сетки в KanbanBoard на мобильных (overflow-x-auto + gap оптимизации).
- [ ] Sticky footer в CardDrawer.
- [ ] ResponsiveContainer в AnalyticsPanel.
- [ ] Size/contrast pass по кнопкам/бейджам (a11y).